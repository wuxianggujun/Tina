set(SUBMODULE_PROJECT_NAME "Engine")
set(SUBMODULE_PROJECT_DIR "${CMAKE_CURRENT_SOURCE_DIR}")

file(GLOB_RECURSE ENGINE_FILES CONFIGURE_DEPENDS
        ${SUBMODULE_PROJECT_DIR}/src/*.c**
        ${SUBMODULE_PROJECT_DIR}/src/*.h**)

add_compile_options("$<$<CONFIG:DEBUG>:-DDEBUG>" "$<$<CONFIG:DEBUG>:-DENABLE_ASSERTS>")

add_library(${SUBMODULE_PROJECT_NAME} ${ENGINE_FILES})

#GROUP_FILES_BY_DIRECTORY("ENGINE_FILES")

target_link_libraries(${SUBMODULE_PROJECT_NAME} PRIVATE INTERFACE ${TINA_LIBRARIES})

add_definitions(
    -DGLFW_INCLUDE_NONE
    -D_CRT_SECURE_NO_WARNINGS
    -DUNICODE)

if(msvc)
  target_compile_options(${SUBMODULE_PROJECT_NAME} PRIVATE "/bigobj")
else()
  add_compile_options(-Wa,-mbig-obj)
endif()

target_include_directories(${SUBMODULE_PROJECT_NAME} PUBLIC ${SUBMODULE_PROJECT_DIR}/src)
